 /produits/portail_harp-tech/www/
git config --global http.proxy http://proxy.adsaft.ft.net:8080
git config --global https.proxy http://proxy.adsaft.ft.net:8080
git clone https://github.dxc.com/hitomba/portaltech.git

https://github.dxc.com

git init
git add README.md
git commit -m "first commit"
git branch -M main
git remote add origin https://github.dxc.com/hitomba/portaltech.git  proxy.adsaft.ft.net / port 8080
git push -u origin main

origin  https://github.com/HubertITOMBA/harp.git (fetch)
origin  https://github.com/HubertITOMBA/harp.git (push)

git remote -v
git status
git push origin main
git push portaltech main


fxxwwpr01:psadm:/produits/portail_harp-tech/www> git clone https://github.dxc.com/hitomba/portaltech.git
fxxwwpr01:psadm:/produits/portail_harp-tech/www> git clone https://github.dxc.com/hitomba/portaltech.git
git clone https://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@github.dxc.com/hitomba/portaltech.git


Cloning into 'portaltech'...
Username for 'https://github.dxc.com': hitomba
Password for 'https://hitomba@github.dxc.com':
remote: Password authentication is not available for Git operations.
remote: You must use a personal access token or SSH key.
remote: See https://github.dxc.com/settings/tokens or https://github.dxc.com/settings/ssh
fatal: unable to access 'https://github.dxc.com/hitomba/portaltech.git/': The requested URL returned error: 403
fxxwwpr01:psadm:/produits/portail_harp-tech/www> git clone https://github.dxc.com/hitomba/portaltech.git


Pour  LanceAppli.tsx, Acrtuellement je suis en mode dev, je teste le lancement de putty avec 
le user  "hubert" et son mot de passe est "axel2014" le host= 192.168.1.49
mais en production le user viendra du User.netid, la clé ssh viendra du User.pkeyfile,
 le host viendra et le host viendra de harpserve.ip ou harpserve.srv et 
 le lien pour lancer Putty sera sur la ligne de la colonne  harpserve.ip ou harpserve.srv
 sur la page EnvSerRoles.tsx

 Copy-Item "C:\TOOLS\devportal\harp\windows\launcher\launcher.ps1" -Destination "C:\apps\portail\launcher\launcher.ps1" -Force

 remplacer sqldevelope.exe par sqldeveloper.exe
 [2025-11-06 20:39:25.097] Launch request: mylaunch://sqldeveloper/
[2025-11-06 20:39:25.160] ERREUR: ExÃ©cutable introuvable: C:\\apps\\sqldeveloper\\sqldevelope.exe
 remplacer sqldevelope.exe par sqldeveloper.exe


Je ne sias pas si pa remeière demande est terminé, mais je la redemande ici, 
Comme on l'a fait à fait, la base esrt vide lors de la première exécution. Analyser cette page et 
adapter puis exécuter séquentiellement, sans intervention de l'utilisateur, 
les fonctions d'imports. Sela ne doit se faire qu'une fois.  L'utilisateur ne pourra se connecter qu'après.
Afficher un messate pour lme faire patienter. Aprilquer la methode employé pour la migration des utilisateurs.
Par défaut les tables vides seront la table user et toutes les tables commencant par harp.


Tous les modals utilisent maintenant le même style orange avec DialogTrigger, comme demandé.
 Les pages de création/édition via routing parallèle (@modal) peuvent être supprimées si vous le souhaitez, 
 car elles ne sont plus utilisées.


Appliquer  toutes les fonctionnalités , le style, le crud, le style et forme de la liste de /list/envs sur /list/servers


Pour /list/histoenv/page.tsx, appliquer le style tout le style de /list/roles, puis ajoutes les actions voir et supprimer 

Pour /list/instora/page.tsx, appliquer le style tout le style de /list/roles, puis ajoutes les actions voir, créer et editer 

 Ajouter dans CreateTypeStatusDialog.tsx et dans EditTypeStatusDialog.tsx un bouton d'upload d'image à sauver dans public/icones


  Modifier le bouton d'upload d'image dans CreateTypeStatusDialog.tsx et dans EditTypeStatusDialog.tsx.  un bouton d'upload d'image à sauver dans public/icones


  Pour /list/menus/page.tsx, appliquer le style tout le style de /list/roles, puis ajoutes les actions voir, créer , editer et désactiver 

  Verifier, analyer et corriger les forms ViewRoleDialog.tsx et ViewRoleContent.tsx car ils bloquent le navigateur, 
  et par la même occasion, les compacter à 60 % car il remplissent l'écran

  ajouter égalemant en haut de page, le bouton retour à la liste sur ViewRoleDialog.tsx 

  Le bouton retour à la liste sur ViewRoleDialog.tsx ne fonctionne pas et bloque le navigateur



dans la page importharp.ts implémenter une fonction pour importer les données de psadm_tools dans harptools pour les colonnes suivantes
la fonction est à exécuter qu'une fois si la table harptools est vide. 

Pour les pages  CreateToolsDialog.tsx et  EditToolsDialog.tsx ajouter un bouton Browser
pour que l'utilisateur selection le fichier executable. Une fois que le ficheir selectionner
extraire ou spliter le chemin pour le mettre dans le champ cmdpath pour l'executable ou le fichier 
dans le champ cmd


Adapter et utiliser cette fonction pour remplir cmdpath et cmd dans CreateToolsDialog.tsx et  EditToolsDialog.tsx 
après le clic sur le bouton Browser
function extractFilePathAndName(filePath: string): { path: string; name: string } {
    const lastSlashIndex = filePath.lastIndexOf('/');
    
    // Vérifie si le dernier '/' existe
    if (lastSlashIndex === -1) {
        return { path: '', name: filePath }; // Pas de chemin, juste le nom du fichier
    }

    const path = filePath.substring(0, lastSlashIndex);
    const name = filePath.substring(lastSlashIndex + 1);
    
    return { path, name };
}

Testons cette fonction
function extractFilePathAndName(filePath: string): { path: string; name: string } {
    const lastSlashIndex = filePath.lastIndexOf('/');
    
    // Vérifie si le dernier '/' existe
    if (lastSlashIndex === -1) {
        return { path: '', name: filePath }; // Pas de chemin, juste le nom du fichier
    }

    const path = filePath.substring(0, lastSlashIndex);
    const name = filePath.substring(lastSlashIndex + 1);
    
    return { path, name };
}

=================================================
Dans importharp.ts  implémenter une fonction pour injecter le resultat de cette requette 
dans la table harpuseroles

select a.id as userId, e.id as roleId
from User a, psadm_user b, psadm_typenv c, psadm_roleuser d, harproles e
where  a.netid = b.netid 
  and  a.netid = d.netid 
  and  b.defpage = c.href
  and  d.role = e.role
order by d.role;

Dans importharp.ts  implémenter une fonction pour injecter le resultat de cette requette 
dans la table harpmenurole
select e.id as roleId, f.id  as menuId, f.menu
from User a, psadm_user b, psadm_typenv c, psadm_roleuser d, harproles e, harpmenus f
where  a.netid = b.netid 
  and  a.netid = d.netid 
  and  b.defpage = c.href
  and  d.role = e.role
  and  c.typenv = f.menu
order by d.role;

Dans CreateMenuDialog.tsx et EditMenuDialog.tsx, impossible de selectionner l'icone, le champs n'affiche pas les icones à selectionner
La liste déroulant n'est pas opérationnelle sur les champs Role et Statut, merci de verifier, d'analyser et corriger. 
===================================


merci de vérifier et corriger Pourquoi les Details des rôles HARP dans /user/profile/page.tsx  n'ont pas
les mêmes données que dans list/users/[id]page.tsx  sous Rôle de {user.netid}. Ces deux pages doivent
afficher les mêmes données car il s'agit d'un même user 


select * from psadm_env where typenvid is null;
select env,site from psadm_env where typenv = 'PUM-MAINTENANCE PS';
select a.env, a.typenvid from envsharp a;
select a.env, a.typenvid, b.typenv from envsharp a, psadm_env b 
where a.env = b.site
and b.typenv = 'PUM-MAINTENANCE PS'; 



pourqoui la fonction function importListEnvs() n'importe pas dans envsharp
les env dont la valeur est égale = ces bases : 'FHFDMO','FHFPUM','FHFST1','FHFST2','FHFST3','FHHDMO','FHHPUM','FHHST1','FHHST2''FHHST3','FHXPUM' 
select a.env from psadm_env a where a.env in ('FHFDMO','FHFPUM','FHFST1','FHFST2','FHFST3','FHHDMO','FHHPUM','FHHST1','FHHST2''FHHST3','FHXPUM');
 
Annuler la demande car je me suis trompé, il faut absolument exécuter la fonction lierTypeEnvs() qui rempli typenvid puis executer  importListEnvs()


dans /list/roles/pages donner les droit à l'admin d'ajouter ou de retirer un utilisateur


Depuis /list/useroles, dans le dialog Attribuer un Role à un utilisateur, la liste de utilisateur et lla liste de role à selectionner apparaissent 
dérière le dialog, impossible d'effectuer la sélection



Analyser cette logique et implémenter une fonction qui va se connecter sur la machine linux pour exécuter le script refresh_info.ksh
cette fonction sera lancé par le link du menu de la navbar "Refresh Info"
le script sera exécuté par le user connecté à l'appication 
 HARPSHELL = /data/exploit/harpadm/outils/scripts
 $HARPLOG = /data/exploit/harpadm/outils/logs
 exec(' . ~/.profile ; $HARPSHELL/refresh_info.ksh > $HARPLOG/portail_refresh_info.log 2>&1 ', $out, $rc);



 Dans le menu latéral  components/home/Menu.tsx, implémenter la possibilité j'ajuster la page lorsque l'écran est reduit pour n'afficher que 
 les icônes, le logo Harp prends plus de place

 Inversant la logique : menu réduit (icônes uniquement) sur md/lg, menu normal (icônes + texte) sur xl+. Vérification des composants concernés :

 Sur écran xl menu taille normal (icônes + texte) et sur écran md/lg (icônes uniquement) logo centré